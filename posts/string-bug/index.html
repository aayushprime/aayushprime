<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>String Bug | aayushprime</title><meta name=keywords content><meta name=description content="Today the coding calendar Advent of Code started.

You should try it too, Advent of Code.
I tried to solve the first challenge. It was pretty straight forward.
Except, I was stumped by a simple problem.
Here is my first attempt,


 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12


def part1(lines):
    prev = lines[0]
    more = 0
    for i in range(len(lines) - 1):
        if lines[i+1] > prev:
            more += 1
        prev = lines[i+1]
    print(more)
if __name__ =='__main__':
    with open('./input/day1.txt', 'r') as f:
        lines = [a.strip() for a in f.readlines()]
    part1(lines)


The thing is it gives correct result for the test data. So, I assumed it would work for the input data. But, the program always
gave me 1 less than the actual answer. I couldn&rsquo;t figure out why.
Notice, I use string comparison in the if condition on line 5.
I knew using string for comparison of numbers was a bad idea but, the following IDLE experiments convinced me otherwise."><meta name=author content><link rel=canonical href=https://lamichhaneaayush.com.np/posts/string-bug/><link crossorigin=anonymous href=/assets/css/stylesheet.93f625d739f1d6a5c6f20c146bc6a8d26b233492b34b2220c54b12fd46a04ded.css integrity="sha256-k/Yl1znx1qXG8gwUa8ao0msjNJKzSyIgxUsS/UagTe0=" rel="preload stylesheet" as=style><link rel=icon href=https://lamichhaneaayush.com.np/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://lamichhaneaayush.com.np/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://lamichhaneaayush.com.np/favicon-32x32.png><link rel=apple-touch-icon href=https://lamichhaneaayush.com.np/apple-touch-icon.png><link rel=mask-icon href=https://lamichhaneaayush.com.np/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://lamichhaneaayush.com.np/posts/string-bug/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:url" content="https://lamichhaneaayush.com.np/posts/string-bug/"><meta property="og:site_name" content="aayushprime"><meta property="og:title" content="String Bug"><meta property="og:description" content="Today the coding calendar Advent of Code started.
You should try it too, Advent of Code.
I tried to solve the first challenge. It was pretty straight forward. Except, I was stumped by a simple problem.
Here is my first attempt,
1 2 3 4 5 6 7 8 9 10 11 12 def part1(lines): prev = lines[0] more = 0 for i in range(len(lines) - 1): if lines[i+1] > prev: more += 1 prev = lines[i+1] print(more) if __name__ =='__main__': with open('./input/day1.txt', 'r') as f: lines = [a.strip() for a in f.readlines()] part1(lines) The thing is it gives correct result for the test data. So, I assumed it would work for the input data. But, the program always gave me 1 less than the actual answer. I couldn’t figure out why.
Notice, I use string comparison in the if condition on line 5. I knew using string for comparison of numbers was a bad idea but, the following IDLE experiments convinced me otherwise."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-12-01T18:06:19+05:45"><meta property="article:modified_time" content="2021-12-01T18:06:19+05:45"><meta property="og:image" content="https://lamichhaneaayush.com.np/posts/string-bug/43.gif"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://lamichhaneaayush.com.np/posts/string-bug/43.gif"><meta name=twitter:title content="String Bug"><meta name=twitter:description content="Today the coding calendar Advent of Code started.

You should try it too, Advent of Code.
I tried to solve the first challenge. It was pretty straight forward.
Except, I was stumped by a simple problem.
Here is my first attempt,


 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12


def part1(lines):
    prev = lines[0]
    more = 0
    for i in range(len(lines) - 1):
        if lines[i+1] > prev:
            more += 1
        prev = lines[i+1]
    print(more)
if __name__ =='__main__':
    with open('./input/day1.txt', 'r') as f:
        lines = [a.strip() for a in f.readlines()]
    part1(lines)


The thing is it gives correct result for the test data. So, I assumed it would work for the input data. But, the program always
gave me 1 less than the actual answer. I couldn&rsquo;t figure out why.
Notice, I use string comparison in the if condition on line 5.
I knew using string for comparison of numbers was a bad idea but, the following IDLE experiments convinced me otherwise."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://lamichhaneaayush.com.np/posts/"},{"@type":"ListItem","position":2,"name":"String Bug","item":"https://lamichhaneaayush.com.np/posts/string-bug/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"String Bug","name":"String Bug","description":"Today the coding calendar Advent of Code started.\nYou should try it too, Advent of Code.\nI tried to solve the first challenge. It was pretty straight forward. Except, I was stumped by a simple problem.\nHere is my first attempt,\n1 2 3 4 5 6 7 8 9 10 11 12 def part1(lines): prev = lines[0] more = 0 for i in range(len(lines) - 1): if lines[i+1] \u0026gt; prev: more += 1 prev = lines[i+1] print(more) if __name__ ==\u0026#39;__main__\u0026#39;: with open(\u0026#39;./input/day1.txt\u0026#39;, \u0026#39;r\u0026#39;) as f: lines = [a.strip() for a in f.readlines()] part1(lines) The thing is it gives correct result for the test data. So, I assumed it would work for the input data. But, the program always gave me 1 less than the actual answer. I couldn\u0026rsquo;t figure out why.\nNotice, I use string comparison in the if condition on line 5. I knew using string for comparison of numbers was a bad idea but, the following IDLE experiments convinced me otherwise.\n","keywords":[],"articleBody":"Today the coding calendar Advent of Code started.\nYou should try it too, Advent of Code.\nI tried to solve the first challenge. It was pretty straight forward. Except, I was stumped by a simple problem.\nHere is my first attempt,\n1 2 3 4 5 6 7 8 9 10 11 12 def part1(lines): prev = lines[0] more = 0 for i in range(len(lines) - 1): if lines[i+1] \u003e prev: more += 1 prev = lines[i+1] print(more) if __name__ =='__main__': with open('./input/day1.txt', 'r') as f: lines = [a.strip() for a in f.readlines()] part1(lines) The thing is it gives correct result for the test data. So, I assumed it would work for the input data. But, the program always gave me 1 less than the actual answer. I couldn’t figure out why.\nNotice, I use string comparison in the if condition on line 5. I knew using string for comparison of numbers was a bad idea but, the following IDLE experiments convinced me otherwise.\n1 2 3 4 \u003e\u003e\u003e \"123\" \u003e \"456\" False \u003e\u003e\u003e \"456\" \u003e \"123\" True If you didn’t know (I certainly didn’t) you can compare strings with the \u003e and \u003c operators in python. This led me to believe that comparing numbers would work without explicitly using integers.\n1 2 \u003e\u003e\u003e \"1024\"\u003e\"946\" False Here is the problem. String comparison compares the first character of the strings and the tries to distinguish which is larger. Here, even though 1024 is greater than 946, 9 is greater than 1! The string comparison operator doesn’t know better. I could’ve casted them to integers or zfilled them to have same number of digits to solve the problem.\nAnd I did, the program now works!\n1 2 3 4 if __name__ =='__main__': with open('./input/day1.txt', 'r') as f: lines = [int(a.strip()) for a in f.readlines()] part1(lines) So, the takeaway is, use numbers(the datatype) when dealing with numbers.\n","wordCount":"314","inLanguage":"en","image":"https://lamichhaneaayush.com.np/posts/string-bug/43.gif","datePublished":"2021-12-01T18:06:19+05:45","dateModified":"2021-12-01T18:06:19+05:45","mainEntityOfPage":{"@type":"WebPage","@id":"https://lamichhaneaayush.com.np/posts/string-bug/"},"publisher":{"@type":"Organization","name":"aayushprime","logo":{"@type":"ImageObject","url":"https://lamichhaneaayush.com.np/favicon.ico"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://lamichhaneaayush.com.np/ accesskey=h title="aayushprime (Alt + H)">aayushprime</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://github.com/aayushprime title=GitHub><span>GitHub</span>&nbsp;
<svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li><li><a href=https://lamichhaneaayush.com.np/cv/ title=CV><span>CV</span></a></li><li><a href=https://lamichhaneaayush.com.np/about/ title=About><span>About</span></a></li><li><a href=https://lamichhaneaayush.com.np/posts/ title=Blog><span>Blog</span></a></li><li><a href=https://lamichhaneaayush.com.np/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://lamichhaneaayush.com.np/>Home</a>&nbsp;»&nbsp;<a href=https://lamichhaneaayush.com.np/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">String Bug</h1><div class=post-meta><span title='2021-12-01 18:06:19 +0545 +0545'>December 1, 2021</span></div></header><figure class=entry-cover><img loading=eager src=https://lamichhaneaayush.com.np/posts/string-bug/43.gif alt="Failed image loading"></figure><div class=post-content><p>Today the coding calendar Advent of Code started.</p><blockquote><p>You should try it too, <a href=https://adventofcode.com>Advent of Code</a>.</p></blockquote><p>I tried to solve the first challenge. It was pretty straight forward.
Except, I was stumped by a simple problem.<br>Here is my first attempt,</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>part1</span>(lines):
</span></span><span style=display:flex><span>    prev <span style=color:#f92672>=</span> lines[<span style=color:#ae81ff>0</span>]
</span></span><span style=display:flex><span>    more <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> range(len(lines) <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> lines[i<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>&gt;</span> prev:
</span></span><span style=display:flex><span>            more <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>        prev <span style=color:#f92672>=</span> lines[i<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>    print(more)
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> __name__ <span style=color:#f92672>==</span><span style=color:#e6db74>&#39;__main__&#39;</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>with</span> open(<span style=color:#e6db74>&#39;./input/day1.txt&#39;</span>, <span style=color:#e6db74>&#39;r&#39;</span>) <span style=color:#66d9ef>as</span> f:
</span></span><span style=display:flex><span>        lines <span style=color:#f92672>=</span> [a<span style=color:#f92672>.</span>strip() <span style=color:#66d9ef>for</span> a <span style=color:#f92672>in</span> f<span style=color:#f92672>.</span>readlines()]
</span></span><span style=display:flex><span>    part1(lines)
</span></span></code></pre></td></tr></table></div></div><p>The thing is it gives correct result for the test data. So, I assumed it would work for the input data. But, the program always
gave me 1 less than the actual answer. I couldn&rsquo;t figure out why.<br>Notice, I use string comparison in the if condition on line 5.
I knew using string for comparison of numbers was a bad idea but, the following IDLE experiments convinced me otherwise.</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>&gt;&gt;&gt; <span style=color:#e6db74>&#34;123&#34;</span> &gt; <span style=color:#e6db74>&#34;456&#34;</span>
</span></span><span style=display:flex><span>False
</span></span><span style=display:flex><span>&gt;&gt;&gt; <span style=color:#e6db74>&#34;456&#34;</span> &gt; <span style=color:#e6db74>&#34;123&#34;</span>
</span></span><span style=display:flex><span>True
</span></span></code></pre></td></tr></table></div></div><p>If you didn&rsquo;t know (I certainly didn&rsquo;t) you can compare strings with the <code>></code> and <code>&lt;</code> operators in python.
This led me to believe that comparing numbers would work without explicitly using integers.</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>&gt;&gt;&gt; <span style=color:#e6db74>&#34;1024&#34;</span>&gt;<span style=color:#e6db74>&#34;946&#34;</span>
</span></span><span style=display:flex><span>False
</span></span></code></pre></td></tr></table></div></div><p>Here is the problem. String comparison compares the first character of the strings
and the tries to distinguish which is larger.
Here, even though 1024 is greater than 946, 9 is greater than 1!
The string comparison operator doesn&rsquo;t know better.
I could&rsquo;ve casted them to integers or <code>zfill</code>ed them to have same number of digits to solve the problem.</p><p>And I did, the program now works!</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=display:flex><span><span style=color:#66d9ef>if</span> __name__ <span style=color:#f92672>==</span><span style=color:#e6db74>&#39;__main__&#39;</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>with</span> open(<span style=color:#e6db74>&#39;./input/day1.txt&#39;</span>, <span style=color:#e6db74>&#39;r&#39;</span>) <span style=color:#66d9ef>as</span> f:
</span></span><span style=display:flex><span>        lines <span style=color:#f92672>=</span> [int(a<span style=color:#f92672>.</span>strip()) <span style=color:#66d9ef>for</span> a <span style=color:#f92672>in</span> f<span style=color:#f92672>.</span>readlines()]
</span></span><span style=display:flex><span>    part1(lines)
</span></span></code></pre></td></tr></table></div></div><p>So, the takeaway is, use numbers(the datatype) when dealing with numbers.</p></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://lamichhaneaayush.com.np/>aayushprime</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>